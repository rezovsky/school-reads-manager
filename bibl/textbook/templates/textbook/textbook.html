{% extends 'main/base.html' %}

{% block title %}
Учебники
{% endblock %}

{% block content %}
{% verbatim %}
<div id="app">
    <div v-if="!isbn">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>ISBN</th>
                    <th>Название</th>
                    <th>Автор</th>
                    <th>Год издания</th>
                    <th>Класс</th>
                    <th>Издатель</th>
                    <th>Количество</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="textbook in textbooks" :key="textbook.isbn" @click="loadTextbookDetails(textbook.isbn)"  class="clickable-row">
                    <td>{{ textbook.isbn }}</td>
                    <td>{{ textbook.title }}</td>
                    <td>{{ textbook.autor }}</td>
                    <td>{{ textbook.year }}</td>
                    <td>{{ textbook.clas }}</td>
                    <td>{{ textbook.publisher }}</td>
                    <td>{{ textbook.invent_count }}</td>
                </tr>
            </tbody>
        </table>
    </div>
    <div v-if="isbn">
        <a @click="goBack" class="btn btn-secondary mb-3">
            Назад к списку
        </a>
        <a v-if="textbookDetail.length > 0" :href="'/print/multi/' + textbookDetail[0]?.isbn" target="_blank" class="btn btn-primary mb-3 ml-2">
            Печать всех
        </a>
        <h2>Инвентаризация книги {{isbn}} {{name}}</h2>
        <table v-if="textbookDetail.length > 0" class="table table-striped">
            <thead>
                <tr>
                    <th>Инвентарный номер</th>
                    <th>Печать</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="inventNumber in textbookDetail" :key="inventNumber.id">
                    <td>{{ inventNumber.inv }}</td>
                    <td>
                        <a :href="'/print/single/' + inventNumber.isbn + '/' + inventNumber.inv" target="_blank" class="btn btn-primary btn-sm">
                            Печать
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
{% endverbatim %}
{% endblock %}
